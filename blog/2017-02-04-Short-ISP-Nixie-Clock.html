<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Ethan McAuliffe</title><meta name="description" content="My personal website and blog"/><link rel="icon" href="/favicon.ico"/><meta name="next-head-count" content="5"/><link rel="preload" href="/_next/static/css/674b4048aafd2ab13367.css" as="style"/><link rel="stylesheet" href="/_next/static/css/674b4048aafd2ab13367.css" data-n-g=""/><link rel="preload" href="/_next/static/css/6d60fbe6f04b36912b39.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6d60fbe6f04b36912b39.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/_next/static/chunks/webpack-90a60b87fd0d5fc150f2.js" defer=""></script><script src="/_next/static/chunks/framework-0441fae7fd130f37dee1.js" defer=""></script><script src="/_next/static/chunks/main-7a0ed9b54ee413b64c69.js" defer=""></script><script src="/_next/static/chunks/pages/_app-2f2e40eeee33a42dbc14.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5BpostName%5D-16fec599cd3f1ade44b5.js" defer=""></script><script src="/_next/static/S3cKVXecnrUEAVkzd2rsQ/_buildManifest.js" defer=""></script><script src="/_next/static/S3cKVXecnrUEAVkzd2rsQ/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="Post_container__39vXa"><div class="Post_backButton__2By7j"><a href="/blog">◀ All Posts</a></div><h1>Short ISP: Nixie Tube Clock</h1><h2>Purpose</h2><p>The purpose of this project is to create a clock that displays the current time, in a 24h format, on 4 nixie tubes. The clock is to show the accurate time, despite power loss, and have only one power supply.</p><table><thead><tr><th>Parts List</th><th></th></tr></thead><tbody><tr><td>ATmega328P</td><td>16MHz Crystal Oscillator</td></tr><tr><td>2× 22pF Capacitor</td><td>680pF Capacitor</td></tr><tr><td>2× 1nF Capacitor</td><td>10nF Capacitor</td></tr><tr><td>2.2µF@250V Capacitor</td><td>220µF Capacitor</td></tr><tr><td>19× 10KΩ Resistor</td><td>4× 47KΩ Resistor</td></tr><tr><td>680KΩ Resistor</td><td>1KΩ Resistor</td></tr><tr><td>0.22Ω@2W Resistor</td><td>4.3KΩ Resistor</td></tr><tr><td>2.5KΩ Potentiometer</td><td>1N4148 Diode</td></tr><tr><td>MUR1100 Diode</td><td>BC556 PNP Transistor</td></tr><tr><td>IRF840 N-Channel MOSFET</td><td>150µH@3A Inductor</td></tr><tr><td>MC34063 Switching Regulator</td><td>Chronodot I2C RTC</td></tr><tr><td>2× SN74HC595 Shift Register</td><td>4× K155ID1 BCD Converter</td></tr><tr><td>4× IN-14 Nixie Tubes</td><td>Slide Switch</td></tr><tr><td>7805 5V Voltage Regulator</td><td>DC Power Jack</td></tr><tr><td>9V Power Supply</td><td></td></tr></tbody></table><h2>Procedure</h2><p>This ISP began as an idea while completing the 555 Boost converter circuit. Next, the idea developed a true project with the purchase of nixie tubes and BCD chips on eBay. The creation of a possible schematic occurred as the parts were in the mail. The schematic in question contained a boost converter circuit as well as the nixie tube and driver circuitry. The boost converter in the original circuit was not successful as the capacitors inside the MOSFET interfered with the PWM signal of the ATmega328P and fried it. Next was building a 555 boost converter, which increased voltage to desired levels, but could not sustain load. Instead, an eBay boost converter specifically designed for nixie tubes was purchased.</p><p>Code writing started as soon as the nixie tubes and BCD chips arrived. The programming of the chronodot started the adventure into coding a clock. First, the code calls the hex data for the current hour minute and second from the chronodot using the <code>Wire.read()</code> function.
The <code>readTime</code> function formats this data into a human-readable decimal value. Next, the decimal values get fed into the <code>timeData</code> function. This function takes the decimal values and, using the <code>toNibble</code> function, creates a 16 digit long string of 1s and 0s. Each digit in the string represents an output on the shift register and each group of 4 digits, or binary nibble, represents a digit on the clock. The <code>toNibble</code> function takes the binary value of a digit and creates a string exactly 4 digits long.</p><p>After formatting the current time in a way that the shift registers and BCD chips can read, the <code>shiftTime</code> function sends this data out. The <code>shiftTime</code> function runs through an entire string and sends the corresponding data to the shift registers.</p><p>Shift registers use 3 pins to receive information from a device like the ATMega 328P. These pins are the serial data, serial clock and latch pins. The shift register indexes a &quot;1&quot; in its memory when the serial data pin is high and, after that, the serial clock pin is high. If the serial data pin is low and the serial clock pin has been set to high, the shift register indexes a &quot;0&quot;. Finally, after receiving all the desired data, the latch pin is set high and the outputs of the shift register change to reflect the data received. The <code>shiftTime</code> function reads the string of 1s and 0s representing the current time and sends this data to the shift registers.</p><a href="/assets/img/ER%20Reports/Grade%2011/Short%20ISP/20170124_161046.jpg"><img src="/assets/img/ER%20Reports/Grade%2011/Short%20ISP/20170124_161046.jpg"/></a><p>These shift registers connect to К155ИД1 (K155ID1) binary to decimal converter chips. These chips take the binary nibble and ground the appropriate output pins. The pins ground incoming current because they are specially designed for ИН-14 (IN-14) nixie tubes, which have a common anode.</p><p>Nixie tubes work by lighting a filament inside a glass chamber filled with gas. This gas often consists of neon and some mercury or argon. They need 150V-170V to run and can run off AC or DC. The digits are completely separate from each other and, as such, multiple digits can appear concurrently as in the picture to the right. These specific tubes were manufactured in the USSR and used as numerical displays before the invention of the 7 segment layout.</p><p>The final additions to the code were a daylight savings time switch and the <code>cycleTubes</code> function. The DST switch allows for a user to efficiently move the hour forward and back on demand. The <code>cycleTubes</code> function gets called every hour, on the hour, to prevent cathode poisoning on the nixie tubes. Cathode poisoning occurs when a digit is on for a prolonged period of time. The coating on this digit sprays onto nearby digits resulting in dimmer patches and less clear numbers. Cycling through all the possible displays once an hour, prevents this.</p><p>The final addition was the boost converter to power the nixies. Each tube was individually tested for operation and connected to the circuit. A 47KΩ resistor placed on the anodes of each tube to prevents high current from frying the BCD chips. The addition of a 5V voltage regulator allowed the logical components and the nixies to share the same singular power source. The clock was now complete.</p><h2>Media</h2><table><tr><td><a href="/assets/img/ER%20Reports/Grade%2011/Short%20ISP/20170124_160911.jpg"><img src="/assets/img/ER%20Reports/Grade%2011/Short%20ISP/20170124_160911.jpg"/></a></td><td><a href="/assets/img/ER%20Reports/Grade%2011/Short%20ISP/20170120_200540.jpg"><img src="/assets/img/ER%20Reports/Grade%2011/Short%20ISP/20170120_200540.jpg"/></a></td></tr><tr><th>Demonstrating the layering of digits on a Nixie Tube. &quot;6&quot; is illuminated here.</th><th>130V-170V DC Boost Converter Circuit</th></tr><tr><td><a href="/assets/img/ER%20Reports/Grade%2011/Short%20ISP/20170202_131447.jpg"><img src="/assets/img/ER%20Reports/Grade%2011/Short%20ISP/20170202_131447.jpg"/></a></td><td><a href="/assets/img/ER%20Reports/Grade%2011/Short%20ISP/20170203_181132.jpg"><img src="/assets/img/ER%20Reports/Grade%2011/Short%20ISP/20170203_181132.jpg"/></a></td></tr><tr><th>Accurate time displaying on the clock</th><th>Nixie tubes at night</th></tr><tr><th colSpan="2">Link to YouTube Video: <a href="https://youtu.be/ri43Dtk1gDY">https://youtu.be/ri43Dtk1gDY</a></th></tr></table><h2>Code</h2><h3>Main Clock Code</h3><pre><code class="hljs language-arduino"><span class="hljs-comment">//Name: Ethan McAuliffe</span>
<span class="hljs-comment">//Date: 2016-12-17</span>
<span class="hljs-comment">//Project: Nixie Tube Clock</span>
<span class="hljs-comment">//Status: Functional and Tested</span>

<span class="hljs-comment">//Libraries</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;Wire.h&gt;</span></span>

<span class="hljs-comment">//Constants</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> serial 2</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> latch 3</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> clk 4</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> DSTPin 9</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> rtc 0x68</span>

<span class="hljs-comment">//Variables</span>
<span class="hljs-type">String</span> currentTime; <span class="hljs-comment">// current time formatted for the shift registers</span>
<span class="hljs-type">int8_t</span> daylight; <span class="hljs-comment">//daylight savings offset</span>
<span class="hljs-type">uint8_t</span> cHour; <span class="hljs-comment">//current hour</span>
<span class="hljs-type">uint8_t</span> cMinute; <span class="hljs-comment">//current minute</span>
<span class="hljs-type">uint8_t</span> cSecond;  <span class="hljs-comment">//current second</span>

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-built_in">Wire</span>.<span class="hljs-built_in">begin</span>();

  <span class="hljs-built_in">pinMode</span>(serial, <span class="hljs-literal">OUTPUT</span>);
  <span class="hljs-built_in">pinMode</span>(latch, <span class="hljs-literal">OUTPUT</span>);
  <span class="hljs-built_in">pinMode</span>(clk, <span class="hljs-literal">OUTPUT</span>);

  <span class="hljs-built_in">pinMode</span>(DSTPin, <span class="hljs-literal">INPUT_PULLUP</span>);
}

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-comment">//Interface with the RTC</span>
  <span class="hljs-built_in">Wire</span>.<span class="hljs-built_in">beginTransmission</span>(rtc);
  <span class="hljs-built_in">Wire</span>.<span class="hljs-built_in">write</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">//prepare rtc to be read from</span>
  <span class="hljs-built_in">Wire</span>.<span class="hljs-built_in">endTransmission</span>();
  <span class="hljs-built_in">Wire</span>.<span class="hljs-built_in">requestFrom</span>(rtc, <span class="hljs-number">7</span>);
  <span class="hljs-keyword">while</span> (<span class="hljs-built_in">Wire</span>.<span class="hljs-built_in">available</span>() == <span class="hljs-number">0</span>);
  <span class="hljs-comment">//read current  minute and hour</span>
  cSecond = <span class="hljs-built_in">readTime</span>(<span class="hljs-built_in">Wire</span>.<span class="hljs-built_in">read</span>());<span class="hljs-comment">//second</span>
  cMinute = <span class="hljs-built_in">readTime</span>(<span class="hljs-built_in">Wire</span>.<span class="hljs-built_in">read</span>() &amp; <span class="hljs-number">0x7f</span>); <span class="hljs-comment">//minute</span>
  cHour = <span class="hljs-built_in">readTime</span>(<span class="hljs-built_in">Wire</span>.<span class="hljs-built_in">read</span>() &amp; <span class="hljs-number">0x3f</span>); <span class="hljs-comment">//hour</span>

  <span class="hljs-comment">//if the daylight savings time switch is on, add add 1 hour to the current time</span>
  <span class="hljs-built_in">digitalRead</span>(DSTPin) == <span class="hljs-literal">LOW</span> ? (cHour == <span class="hljs-number">23</span> ? daylight = <span class="hljs-number">-23</span> : daylight = <span class="hljs-number">1</span>) : daylight = <span class="hljs-number">0</span>;

  <span class="hljs-comment">//takes current time and sends it to the shift registers</span>
  currentTime = <span class="hljs-built_in">timeData</span>(cHour + daylight, cMinute); <span class="hljs-comment">// current time binary data. Each nibble represents a digit.</span>
  <span class="hljs-built_in">shiftTime</span>(serial, latch, clk, currentTime); <span class="hljs-comment">//send current time to the shift registers</span>

  <span class="hljs-comment">//cycles nixie tubes every hour that they are on</span>
  <span class="hljs-keyword">if</span> (cMinute == <span class="hljs-number">0</span> &amp;&amp; cSecond == <span class="hljs-number">0</span>) {
    <span class="hljs-built_in">cycleTubes</span>();
  }
}

<span class="hljs-comment">//Functions</span>
<span class="hljs-function"><span class="hljs-type">String</span> <span class="hljs-title">timeData</span><span class="hljs-params">(<span class="hljs-type">uint8_t</span> h, <span class="hljs-type">uint8_t</span> m)</span> </span>{ <span class="hljs-comment">//takes the current time and outputs the required data for shift register</span>
  <span class="hljs-type">String</span> minutesOnes = <span class="hljs-built_in">toNibble</span>(<span class="hljs-built_in">String</span>((m % <span class="hljs-number">10</span>), BIN));<span class="hljs-comment">//converts ones digit to binary nibble</span>
  <span class="hljs-type">String</span> minutesTens = <span class="hljs-built_in">toNibble</span>(<span class="hljs-built_in">String</span>((m / <span class="hljs-number">10</span> % <span class="hljs-number">10</span>), BIN));<span class="hljs-comment">//converts tens digit to binary nibble</span>
  <span class="hljs-type">String</span> hoursOnes = <span class="hljs-built_in">toNibble</span>(<span class="hljs-built_in">String</span>((h % <span class="hljs-number">10</span>), BIN));
  <span class="hljs-type">String</span> hoursTens = <span class="hljs-built_in">toNibble</span>(<span class="hljs-built_in">String</span>((h / <span class="hljs-number">10</span> % <span class="hljs-number">10</span>), BIN));

  <span class="hljs-comment">//output a string of the all binary nibbles for each digit in the time</span>
  <span class="hljs-type">String</span> output = hoursTens + hoursOnes + minutesTens + minutesOnes;
  <span class="hljs-keyword">return</span> output;
}

<span class="hljs-function"><span class="hljs-type">String</span> <span class="hljs-title">toNibble</span> <span class="hljs-params">(<span class="hljs-type">String</span> input)</span> </span>{ <span class="hljs-comment">//converts binary character string to a binary nibble</span>
  <span class="hljs-type">String</span> output = input;
  <span class="hljs-type">uint8_t</span> lngth = output.<span class="hljs-built_in">length</span>();
  <span class="hljs-keyword">for</span> (<span class="hljs-type">uint8_t</span> i = lngth; i &lt; <span class="hljs-number">4</span>; i++) { <span class="hljs-comment">//adds zeros before binary value until there is a whole nibble</span>
    output = <span class="hljs-string">&quot;0&quot;</span> + output;
  }
  <span class="hljs-keyword">return</span> output;
}

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">shiftTime</span> <span class="hljs-params">(<span class="hljs-type">uint8_t</span> serialPin, <span class="hljs-type">uint8_t</span> latchPin, <span class="hljs-type">uint8_t</span> clockPin, <span class="hljs-type">String</span> inputTime)</span> </span>{ <span class="hljs-comment">//sends a binary string to shift registers</span>
  <span class="hljs-built_in">digitalWrite</span>(latchPin, <span class="hljs-literal">LOW</span>);<span class="hljs-comment">//set latch pin low to prepare for data to be sent</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-type">int8_t</span> i = inputTime.<span class="hljs-built_in">length</span>() - <span class="hljs-number">1</span>; i &gt; <span class="hljs-number">-1</span>; i--) { <span class="hljs-comment">//iterates over entire length of input string</span>
    <span class="hljs-type">byte</span> currentChar = inputTime.<span class="hljs-built_in">charAt</span>(i);<span class="hljs-comment">//gets character &quot;i&quot; in the binary string</span>
    <span class="hljs-keyword">if</span> (currentChar == <span class="hljs-string">&#x27;1&#x27;</span>) { <span class="hljs-comment">//if character is a one send a high signal to the shift registers</span>
      <span class="hljs-built_in">digitalWrite</span>(serialPin, <span class="hljs-literal">HIGH</span>);
      <span class="hljs-built_in">digitalWrite</span>(clockPin, <span class="hljs-literal">HIGH</span>);
      <span class="hljs-built_in">digitalWrite</span>(clockPin, <span class="hljs-literal">LOW</span>);
      <span class="hljs-built_in">digitalWrite</span>(serialPin, <span class="hljs-literal">LOW</span>);
    } <span class="hljs-keyword">else</span> { <span class="hljs-comment">//if character is a zero send a low signal</span>
      <span class="hljs-built_in">digitalWrite</span>(serialPin, <span class="hljs-literal">LOW</span>);
      <span class="hljs-built_in">digitalWrite</span>(clockPin, <span class="hljs-literal">HIGH</span>);
      <span class="hljs-built_in">digitalWrite</span>(clockPin, <span class="hljs-literal">LOW</span>);
    }
  }
  <span class="hljs-built_in">digitalWrite</span>(latchPin, <span class="hljs-literal">HIGH</span>);<span class="hljs-comment">//lock in data on shift register</span>
}

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">cycleTubes</span> <span class="hljs-params">()</span> </span>{<span class="hljs-comment">//cycle all of the digits in unison to prevent cathode poisioning</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-type">uint16_t</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {
    <span class="hljs-type">uint8_t</span> cycleDigits = ((i % <span class="hljs-number">10</span>) * <span class="hljs-number">10</span>) + i % <span class="hljs-number">10</span>;
    <span class="hljs-type">String</span> cycleData = <span class="hljs-built_in">timeData</span>(cycleDigits, cycleDigits);
    <span class="hljs-built_in">shiftTime</span>(serial, latch, clk, cycleData);
    <span class="hljs-built_in">delay</span>(i / <span class="hljs-number">15</span> + <span class="hljs-number">1</span>);
  }
}

<span class="hljs-function"><span class="hljs-type">uint8_t</span> <span class="hljs-title">readTime</span> <span class="hljs-params">(<span class="hljs-type">uint8_t</span> input)</span> </span>{ <span class="hljs-comment">//makes time human readable (0-60 and 0-24)</span>
  <span class="hljs-keyword">return</span> ((input / <span class="hljs-number">16</span> * <span class="hljs-number">10</span>) + (input % <span class="hljs-number">16</span>));
}
</code></pre><h2>Conclusion</h2><p>In conclusion, I found this project to be quite enjoyable and informative. I enjoyed working with even higher voltages than my previous project, despite being shocked more than a few times. It was fun to learn how to use niche devices to create a device that we use multiple times a day. I also learned some electronic history by reading up on nixie tubes and why they were used. I fully intend to extend this project further and create a custom circuit board using EAGLE as well as designing an enclosure using ViaCAD. I also intend to finally decode the mystery of boost converters (although I believe I know where I went wrong). I put an immense amount of time into this project, but I do not believe that any of it was wasted. I am very much satisfied with my final product.</p><h2>Reference</h2><p>Alberto. &quot;ATMEGA328 &amp; Arduino Pinout Diagram.&quot; PighiXXX, 18 Feb. 2013, <a href="http://v.gd/miZ3gY">http://v.gd/miZ3gY</a>.</p><p>Boxall, John. &quot;Using DS1307 and DS3231 Real-Time Clock Modules with Arduino.&quot; Tronixstuff, Tronixlabs, 1 Dec. 2014, <a href="http://tronixstuff.com/2014/12/01/tutorial-using-ds1307-and-ds3231-real-time-clock-modules-with-arduino/">http://tronixstuff.com/2014/12/01/tutorial-using-ds1307-and-ds3231-real-time-clock-modules-with-arduino/</a>.</p><p>Harrison, Mike. &quot;Nixie Power Supply.&quot; Mike&#x27;s Electric Stuff, <a href="http://www.electricstuff.co.uk/nixpsu.html">http://www.electricstuff.co.uk/nixpsu.html</a>.</p><p>&quot;IN-14 (ИН-14) Datasheet.&quot; TubeHobby, Gazotron, <a href="http://tubehobby.com/datasheets/in14.pdf">http://tubehobby.com/datasheets/in14.pdf</a>.</p><p>&quot;K155ID1 (К155ИД1) Datasheet.&quot; TubeHobby, CCCP, <a href="http://tubehobby.com/datasheets/k155id1.pdf">http://tubehobby.com/datasheets/k155id1.pdf</a>.</p><p>Onno. &quot;Neon Nostalgia.&quot; Neon Nostalgia, 20 Oct. 2000, <a href="http://www.glowbug.nl/neon/index.html">http://www.glowbug.nl/neon/index.html</a>.</p><p>Urbach, Claus-Dieter. &quot;FAQ Nixietubes.&quot; NixieClocks.de, <a href="http://www.nixieclocks.de/FAQ_Nixietubes.pdf">http://www.nixieclocks.de/FAQ_Nixietubes.pdf</a>.</p></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Short ISP: Nixie Tube Clock","name":"2017-02-04-Short-ISP-Nixie-Clock","content":{"compiledSource":"var o=Object.defineProperty,d=Object.defineProperties;var h=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;var l=(a,s,n)=\u003es in a?o(a,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[s]=n,e=(a,s)=\u003e{for(var n in s||(s={}))r.call(s,n)\u0026\u0026l(a,n,s[n]);if(p)for(var n of p(s))i.call(s,n)\u0026\u0026l(a,n,s[n]);return a},c=(a,s)=\u003ed(a,h(s));var m=(a,s)=\u003e{var n={};for(var t in a)r.call(a,t)\u0026\u0026s.indexOf(t)\u003c0\u0026\u0026(n[t]=a[t]);if(a!=null\u0026\u0026p)for(var t of p(a))s.indexOf(t)\u003c0\u0026\u0026i.call(a,t)\u0026\u0026(n[t]=a[t]);return n};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(n){var t=n,{components:a}=t,s=m(t,[\"components\"]);return mdx(MDXLayout,c(e(e({},layoutProps),s),{components:a,mdxType:\"MDXLayout\"}),mdx(\"h2\",null,\"Purpose\"),mdx(\"p\",null,\"The purpose of this project is to create a clock that displays the current time, in a 24h format, on 4 nixie tubes. The clock is to show the accurate time, despite power loss, and have only one power supply.\"),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Parts List\"),mdx(\"th\",e({parentName:\"tr\"},{align:null})))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ATmega328P\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"16MHz Crystal Oscillator\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"2\\xD7 22pF Capacitor\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"680pF Capacitor\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"2\\xD7 1nF Capacitor\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"10nF Capacitor\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"2.2\\xB5F@250V Capacitor\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"220\\xB5F Capacitor\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"19\\xD7 10K\\u2126 Resistor\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"4\\xD7 47K\\u2126 Resistor\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"680K\\u2126 Resistor\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"1K\\u2126 Resistor\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"0.22\\u2126@2W Resistor\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"4.3K\\u2126 Resistor\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"2.5K\\u2126 Potentiometer\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"1N4148 Diode\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"MUR1100 Diode\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"BC556 PNP Transistor\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"IRF840 N-Channel MOSFET\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"150\\xB5H@3A Inductor\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"MC34063 Switching Regulator\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Chronodot I2C RTC\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"2\\xD7 SN74HC595 Shift Register\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"4\\xD7 K155ID1 BCD Converter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"4\\xD7 IN-14 Nixie Tubes\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Slide Switch\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"7805 5V Voltage Regulator\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"DC Power Jack\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"9V Power Supply\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}))))),mdx(\"h2\",null,\"Procedure\"),mdx(\"p\",null,\"This ISP began as an idea while completing the 555 Boost converter circuit. Next, the idea developed a true project with the purchase of nixie tubes and BCD chips on eBay. The creation of a possible schematic occurred as the parts were in the mail. The schematic in question contained a boost converter circuit as well as the nixie tube and driver circuitry. The boost converter in the original circuit was not successful as the capacitors inside the MOSFET interfered with the PWM signal of the ATmega328P and fried it. Next was building a 555 boost converter, which increased voltage to desired levels, but could not sustain load. Instead, an eBay boost converter specifically designed for nixie tubes was purchased.\"),mdx(\"p\",null,\"Code writing started as soon as the nixie tubes and BCD chips arrived. The programming of the chronodot started the adventure into coding a clock. First, the code calls the hex data for the current hour minute and second from the chronodot using the \",mdx(\"inlineCode\",{parentName:\"p\"},\"Wire.read()\"),` function.\nThe `,mdx(\"inlineCode\",{parentName:\"p\"},\"readTime\"),\" function formats this data into a human-readable decimal value. Next, the decimal values get fed into the \",mdx(\"inlineCode\",{parentName:\"p\"},\"timeData\"),\" function. This function takes the decimal values and, using the \",mdx(\"inlineCode\",{parentName:\"p\"},\"toNibble\"),\" function, creates a 16 digit long string of 1s and 0s. Each digit in the string represents an output on the shift register and each group of 4 digits, or binary nibble, represents a digit on the clock. The \",mdx(\"inlineCode\",{parentName:\"p\"},\"toNibble\"),\" function takes the binary value of a digit and creates a string exactly 4 digits long.\"),mdx(\"p\",null,\"After formatting the current time in a way that the shift registers and BCD chips can read, the \",mdx(\"inlineCode\",{parentName:\"p\"},\"shiftTime\"),\" function sends this data out. The \",mdx(\"inlineCode\",{parentName:\"p\"},\"shiftTime\"),\" function runs through an entire string and sends the corresponding data to the shift registers.\"),mdx(\"p\",null,'Shift registers use 3 pins to receive information from a device like the ATMega 328P. These pins are the serial data, serial clock and latch pins. The shift register indexes a \"1\" in its memory when the serial data pin is high and, after that, the serial clock pin is high. If the serial data pin is low and the serial clock pin has been set to high, the shift register indexes a \"0\". Finally, after receiving all the desired data, the latch pin is set high and the outputs of the shift register change to reflect the data received. The ',mdx(\"inlineCode\",{parentName:\"p\"},\"shiftTime\"),\" function reads the string of 1s and 0s representing the current time and sends this data to the shift registers.\"),mdx(\"img\",{style:{float:\"right\"},src:\"/assets/img/ER%20Reports/Grade%2011/Short%20ISP/20170124_161046.jpg\"}),mdx(\"p\",null,\"These shift registers connect to \\u041A155\\u0418\\u04141 (K155ID1) binary to decimal converter chips. These chips take the binary nibble and ground the appropriate output pins. The pins ground incoming current because they are specially designed for \\u0418\\u041D-14 (IN-14) nixie tubes, which have a common anode.\"),mdx(\"p\",null,\"Nixie tubes work by lighting a filament inside a glass chamber filled with gas. This gas often consists of neon and some mercury or argon. They need 150V-170V to run and can run off AC or DC. The digits are completely separate from each other and, as such, multiple digits can appear concurrently as in the picture to the right. These specific tubes were manufactured in the USSR and used as numerical displays before the invention of the 7 segment layout.\"),mdx(\"p\",null,\"The final additions to the code were a daylight savings time switch and the \",mdx(\"inlineCode\",{parentName:\"p\"},\"cycleTubes\"),\" function. The DST switch allows for a user to efficiently move the hour forward and back on demand. The \",mdx(\"inlineCode\",{parentName:\"p\"},\"cycleTubes\"),\" function gets called every hour, on the hour, to prevent cathode poisoning on the nixie tubes. Cathode poisoning occurs when a digit is on for a prolonged period of time. The coating on this digit sprays onto nearby digits resulting in dimmer patches and less clear numbers. Cycling through all the possible displays once an hour, prevents this.\"),mdx(\"p\",null,\"The final addition was the boost converter to power the nixies. Each tube was individually tested for operation and connected to the circuit. A 47K\\u2126 resistor placed on the anodes of each tube to prevents high current from frying the BCD chips. The addition of a 5V voltage regulator allowed the logical components and the nixies to share the same singular power source. The clock was now complete.\"),mdx(\"h2\",null,\"Media\"),mdx(\"table\",null,mdx(\"tr\",null,mdx(\"td\",null,mdx(\"img\",{src:\"/assets/img/ER%20Reports/Grade%2011/Short%20ISP/20170124_160911.jpg\"})),mdx(\"td\",null,mdx(\"img\",{src:\"/assets/img/ER%20Reports/Grade%2011/Short%20ISP/20170120_200540.jpg\"}))),mdx(\"tr\",null,mdx(\"th\",null,'Demonstrating the layering of digits on a Nixie Tube. \"6\" is illuminated here.'),mdx(\"th\",null,\"130V-170V DC Boost Converter Circuit\")),mdx(\"tr\",null,mdx(\"td\",null,mdx(\"img\",{src:\"/assets/img/ER%20Reports/Grade%2011/Short%20ISP/20170202_131447.jpg\"})),mdx(\"td\",null,mdx(\"img\",{src:\"/assets/img/ER%20Reports/Grade%2011/Short%20ISP/20170203_181132.jpg\"}))),mdx(\"tr\",null,mdx(\"th\",null,\"Accurate time displaying on the clock\"),mdx(\"th\",null,\"Nixie tubes at night\")),mdx(\"tr\",null,mdx(\"th\",{colSpan:\"2\"},\"Link to YouTube Video: \",mdx(\"a\",{href:\"https://youtu.be/ri43Dtk1gDY\"},\"https://youtu.be/ri43Dtk1gDY\")))),mdx(\"h2\",null,\"Code\"),mdx(\"h3\",null,\"Main Clock Code\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-arduino\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//Name: Ethan McAuliffe\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//Date: 2016-12-17\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//Project: Nixie Tube Clock\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//Status: Functional and Tested\"),`\n\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//Libraries\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-meta\"}),\"#\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"include\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-string\"}),\"\u003cWire.h\u003e\")),`\n\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//Constants\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-meta\"}),\"#\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"define\"),\" serial 2\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-meta\"}),\"#\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"define\"),\" latch 3\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-meta\"}),\"#\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"define\"),\" clk 4\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-meta\"}),\"#\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"define\"),\" DSTPin 9\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-meta\"}),\"#\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"define\"),\" rtc 0x68\"),`\n\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//Variables\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-type\"}),\"String\"),\" currentTime; \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// current time formatted for the shift registers\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-type\"}),\"int8_t\"),\" daylight; \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//daylight savings offset\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-type\"}),\"uint8_t\"),\" cHour; \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//current hour\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-type\"}),\"uint8_t\"),\" cMinute; \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//current minute\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-type\"}),\"uint8_t\"),\" cSecond;  \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//current second\"),`\n\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-type\"}),\"void\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-title\"}),\"setup\"),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"()\"),\" \"),`{\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"Wire\"),\".\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"begin\"),`();\n\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"pinMode\"),\"(serial, \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-literal\"}),\"OUTPUT\"),`);\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"pinMode\"),\"(latch, \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-literal\"}),\"OUTPUT\"),`);\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"pinMode\"),\"(clk, \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-literal\"}),\"OUTPUT\"),`);\n\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"pinMode\"),\"(DSTPin, \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-literal\"}),\"INPUT_PULLUP\"),`);\n}\n\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-type\"}),\"void\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-title\"}),\"loop\"),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"()\"),\" \"),`{\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//Interface with the RTC\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"Wire\"),\".\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"beginTransmission\"),`(rtc);\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"Wire\"),\".\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"write\"),\"(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"0\"),\"); \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//prepare rtc to be read from\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"Wire\"),\".\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"endTransmission\"),`();\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"Wire\"),\".\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"requestFrom\"),\"(rtc, \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"7\"),`);\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"while\"),\" (\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"Wire\"),\".\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"available\"),\"() == \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"0\"),`);\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//read current  minute and hour\"),`\n  cSecond = `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"readTime\"),\"(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"Wire\"),\".\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"read\"),\"());\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//second\"),`\n  cMinute = `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"readTime\"),\"(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"Wire\"),\".\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"read\"),\"() \u0026 \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"0x7f\"),\"); \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//minute\"),`\n  cHour = `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"readTime\"),\"(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"Wire\"),\".\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"read\"),\"() \u0026 \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"0x3f\"),\"); \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//hour\"),`\n\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//if the daylight savings time switch is on, add add 1 hour to the current time\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"digitalRead\"),\"(DSTPin) == \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-literal\"}),\"LOW\"),\" ? (cHour == \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"23\"),\" ? daylight = \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"-23\"),\" : daylight = \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"1\"),\") : daylight = \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"0\"),`;\n\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//takes current time and sends it to the shift registers\"),`\n  currentTime = `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"timeData\"),\"(cHour + daylight, cMinute); \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// current time binary data. Each nibble represents a digit.\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"shiftTime\"),\"(serial, latch, clk, currentTime); \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//send current time to the shift registers\"),`\n\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//cycles nixie tubes every hour that they are on\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"if\"),\" (cMinute == \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"0\"),\" \u0026\u0026 cSecond == \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"0\"),`) {\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"cycleTubes\"),`();\n  }\n}\n\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//Functions\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-type\"}),\"String\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-title\"}),\"timeData\"),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"(\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-type\"}),\"uint8_t\"),\" h, \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-type\"}),\"uint8_t\"),\" m)\"),\" \"),\"{ \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//takes the current time and outputs the required data for shift register\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-type\"}),\"String\"),\" minutesOnes = \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"toNibble\"),\"(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"String\"),\"((m % \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"10\"),\"), BIN));\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//converts ones digit to binary nibble\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-type\"}),\"String\"),\" minutesTens = \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"toNibble\"),\"(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"String\"),\"((m / \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"10\"),\" % \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"10\"),\"), BIN));\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//converts tens digit to binary nibble\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-type\"}),\"String\"),\" hoursOnes = \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"toNibble\"),\"(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"String\"),\"((h % \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"10\"),`), BIN));\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-type\"}),\"String\"),\" hoursTens = \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"toNibble\"),\"(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"String\"),\"((h / \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"10\"),\" % \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"10\"),`), BIN));\n\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//output a string of the all binary nibbles for each digit in the time\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-type\"}),\"String\"),` output = hoursTens + hoursOnes + minutesTens + minutesOnes;\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"return\"),` output;\n}\n\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-type\"}),\"String\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-title\"}),\"toNibble\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"(\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-type\"}),\"String\"),\" input)\"),\" \"),\"{ \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//converts binary character string to a binary nibble\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-type\"}),\"String\"),` output = input;\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-type\"}),\"uint8_t\"),\" lngth = output.\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"length\"),`();\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"for\"),\" (\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-type\"}),\"uint8_t\"),\" i = lngth; i \u003c \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"4\"),\"; i++) { \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//adds zeros before binary value until there is a whole nibble\"),`\n    output = `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"0\"'),` + output;\n  }\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"return\"),` output;\n}\n\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-type\"}),\"void\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-title\"}),\"shiftTime\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"(\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-type\"}),\"uint8_t\"),\" serialPin, \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-type\"}),\"uint8_t\"),\" latchPin, \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-type\"}),\"uint8_t\"),\" clockPin, \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-type\"}),\"String\"),\" inputTime)\"),\" \"),\"{ \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//sends a binary string to shift registers\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"digitalWrite\"),\"(latchPin, \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-literal\"}),\"LOW\"),\");\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//set latch pin low to prepare for data to be sent\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"for\"),\" (\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-type\"}),\"int8_t\"),\" i = inputTime.\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"length\"),\"() - \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"1\"),\"; i \u003e \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"-1\"),\"; i--) { \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//iterates over entire length of input string\"),`\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-type\"}),\"byte\"),\" currentChar = inputTime.\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"charAt\"),\"(i);\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),'//gets character \"i\" in the binary string'),`\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"if\"),\" (currentChar == \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),\"'1'\"),\") { \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//if character is a one send a high signal to the shift registers\"),`\n      `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"digitalWrite\"),\"(serialPin, \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-literal\"}),\"HIGH\"),`);\n      `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"digitalWrite\"),\"(clockPin, \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-literal\"}),\"HIGH\"),`);\n      `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"digitalWrite\"),\"(clockPin, \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-literal\"}),\"LOW\"),`);\n      `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"digitalWrite\"),\"(serialPin, \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-literal\"}),\"LOW\"),`);\n    } `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"else\"),\" { \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//if character is a zero send a low signal\"),`\n      `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"digitalWrite\"),\"(serialPin, \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-literal\"}),\"LOW\"),`);\n      `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"digitalWrite\"),\"(clockPin, \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-literal\"}),\"HIGH\"),`);\n      `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"digitalWrite\"),\"(clockPin, \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-literal\"}),\"LOW\"),`);\n    }\n  }\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"digitalWrite\"),\"(latchPin, \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-literal\"}),\"HIGH\"),\");\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//lock in data on shift register\"),`\n}\n\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-type\"}),\"void\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-title\"}),\"cycleTubes\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"()\"),\" \"),\"{\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//cycle all of the digits in unison to prevent cathode poisioning\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"for\"),\" (\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-type\"}),\"uint16_t\"),\" i = \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"0\"),\"; i \u003c \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"1000\"),`; i++) {\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-type\"}),\"uint8_t\"),\" cycleDigits = ((i % \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"10\"),\") * \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"10\"),\") + i % \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"10\"),`;\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-type\"}),\"String\"),\" cycleData = \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"timeData\"),`(cycleDigits, cycleDigits);\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"shiftTime\"),`(serial, latch, clk, cycleData);\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"delay\"),\"(i / \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"15\"),\" + \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"1\"),`);\n  }\n}\n\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-type\"}),\"uint8_t\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-title\"}),\"readTime\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"(\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-type\"}),\"uint8_t\"),\" input)\"),\" \"),\"{ \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"//makes time human readable (0-60 and 0-24)\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"return\"),\" ((input / \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"16\"),\" * \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"10\"),\") + (input % \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"16\"),`));\n}\n`)),mdx(\"h2\",null,\"Conclusion\"),mdx(\"p\",null,\"In conclusion, I found this project to be quite enjoyable and informative. I enjoyed working with even higher voltages than my previous project, despite being shocked more than a few times. It was fun to learn how to use niche devices to create a device that we use multiple times a day. I also learned some electronic history by reading up on nixie tubes and why they were used. I fully intend to extend this project further and create a custom circuit board using EAGLE as well as designing an enclosure using ViaCAD. I also intend to finally decode the mystery of boost converters (although I believe I know where I went wrong). I put an immense amount of time into this project, but I do not believe that any of it was wasted. I am very much satisfied with my final product.\"),mdx(\"h2\",null,\"Reference\"),mdx(\"p\",null,'Alberto. \"ATMEGA328 \u0026 Arduino Pinout Diagram.\" PighiXXX, 18 Feb. 2013, ',mdx(\"a\",e({parentName:\"p\"},{href:\"http://v.gd/miZ3gY\"}),\"http://v.gd/miZ3gY\"),\".\"),mdx(\"p\",null,'Boxall, John. \"Using DS1307 and DS3231 Real-Time Clock Modules with Arduino.\" Tronixstuff, Tronixlabs, 1 Dec. 2014, ',mdx(\"a\",e({parentName:\"p\"},{href:\"http://tronixstuff.com/2014/12/01/tutorial-using-ds1307-and-ds3231-real-time-clock-modules-with-arduino/\"}),\"http://tronixstuff.com/2014/12/01/tutorial-using-ds1307-and-ds3231-real-time-clock-modules-with-arduino/\"),\".\"),mdx(\"p\",null,`Harrison, Mike. \"Nixie Power Supply.\" Mike's Electric Stuff, `,mdx(\"a\",e({parentName:\"p\"},{href:\"http://www.electricstuff.co.uk/nixpsu.html\"}),\"http://www.electricstuff.co.uk/nixpsu.html\"),\".\"),mdx(\"p\",null,'\"IN-14 (\\u0418\\u041D-14) Datasheet.\" TubeHobby, Gazotron, ',mdx(\"a\",e({parentName:\"p\"},{href:\"http://tubehobby.com/datasheets/in14.pdf\"}),\"http://tubehobby.com/datasheets/in14.pdf\"),\".\"),mdx(\"p\",null,'\"K155ID1 (\\u041A155\\u0418\\u04141) Datasheet.\" TubeHobby, CCCP, ',mdx(\"a\",e({parentName:\"p\"},{href:\"http://tubehobby.com/datasheets/k155id1.pdf\"}),\"http://tubehobby.com/datasheets/k155id1.pdf\"),\".\"),mdx(\"p\",null,'Onno. \"Neon Nostalgia.\" Neon Nostalgia, 20 Oct. 2000, ',mdx(\"a\",e({parentName:\"p\"},{href:\"http://www.glowbug.nl/neon/index.html\"}),\"http://www.glowbug.nl/neon/index.html\"),\".\"),mdx(\"p\",null,'Urbach, Claus-Dieter. \"FAQ Nixietubes.\" NixieClocks.de, ',mdx(\"a\",e({parentName:\"p\"},{href:\"http://www.nixieclocks.de/FAQ_Nixietubes.pdf\"}),\"http://www.nixieclocks.de/FAQ_Nixietubes.pdf\"),\".\"))}MDXContent.isMDXComponent=!0;\n","scope":{}},"feature-img":"/assets/img/ER%20Reports/Grade%2011/Short%20ISP/20170203_181051.jpg"}},"__N_SSG":true},"page":"/blog/[postName]","query":{"postName":"2017-02-04-Short-ISP-Nixie-Clock"},"buildId":"S3cKVXecnrUEAVkzd2rsQ","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>